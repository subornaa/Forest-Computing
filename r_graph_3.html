<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Application of Computer Technology and Document Processing in Forest Management and Natural Resources - 6.2 Graphs in R Markdown: Advanced Tools</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./r_graph_4.html" rel="next">
<link href="./r_graph_2.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>


<meta name="twitter:title" content="Application of Computer Technology and Document Processing in Forest Management and Natural Resources - 6.2 Graphs in R Markdown: Advanced Tools">
<meta name="twitter:description" content="">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-sidebar docked">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./r_graph_1.html">Chapter 6: Graphical Presentation in RMarkDown</a></li><li class="breadcrumb-item"><a href="./r_graph_3.html">6.2 Graphs in R Markdown: Advanced Tools</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Application of Computer Technology and Document Processing in Forest Management and Natural Resources</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/subornaa/Forest-Computing" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Outline</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./word_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Chapter 1: Mastering the Art of Effective Technical Writing</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./word_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1.1 Document Processing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./word_3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1.2 Basic Tabs in MS Word</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./word_4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1.3 Report Writing: Technical Documents</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./excel_basics_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Chapter 2: Microsoft Excel Basics and Data Handling</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./excel_basics_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2.1 Introduction to Microsoft Excel</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./excel_basics_3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2.2 Formatting and Organizing Datasets</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./excel_basics_4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2.3 Excel Formulas: Basic and Advanced Techniques</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./excel_basics_5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2.4 Mastering the Power of Excel’s Calculation Capabilities</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./excel_more_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Chapter 3: Excel Data Management and More Tools</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./excel_more_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">3.1 Microsoft Excel Basics: Data Management</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./excel_more_3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">3.2 Excel Graphs</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./excel_more_4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">3.3 Excel Graphs</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./excel_pivot_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Chapter 4: Excel PivotTable and Chart</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./excel_pivot_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">4.1 General Features of PivotTable and Chart</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./excel_pivot_3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">4.2 Making Changes to PivotTable and Chart</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./r_basics_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Chapter 5: RStudio Basics: R as a Calculator &amp; Data Handling in R</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./r_basics_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">5.1 R and RStudio Introduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./r_basics_3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">5.2 What is RStudio?</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./r_basics_4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">5.3 R as a Calculating Environment</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./r_basics_5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">5.4 Handling data in R</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./r_graph_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Chapter 6: Graphical Presentation in RMarkDown</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./r_graph_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">6.1 Basic Graphs: RStudio and R Markdown</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./r_graph_3.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">6.2 Graphs in R Markdown: Advanced Tools</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./r_graph_4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">6.3 Barplot in R Markdown</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./r_graph_5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">6.4 Pie Chart, Histogram, and Boxplot in R Markdown</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./gis_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Chapter 7: Manage and Analyze Geodata</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./gis_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">7.1 Installing QGIS</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./gis_3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">7.2 Basic Concepts in GIS</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./gis_4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">7.3 Initiating a QGIS Project</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./gis_5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">7.4 Visualizing Data in QGIS</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./processing_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Chapter 8: Geoprocessing Tools in GIS</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./processing_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">8.1 Introduction to Geoprocessing Tools</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./processing_3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">8.2 More Geoprocessing Tools</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./processing_4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">8.3 Union and Intersection Geoprocessing Tools</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#video-graphs-in-r-markdown-advanced-tools" id="toc-video-graphs-in-r-markdown-advanced-tools" class="nav-link active" data-scroll-target="#video-graphs-in-r-markdown-advanced-tools">Video: Graphs in R Markdown &amp; Advanced Tools</a></li>
  <li><a href="#preparing-directory-and-data-setup" id="toc-preparing-directory-and-data-setup" class="nav-link" data-scroll-target="#preparing-directory-and-data-setup">6.2.1 Preparing directory and data setup</a></li>
  <li><a href="#side-by-side-graphs" id="toc-side-by-side-graphs" class="nav-link" data-scroll-target="#side-by-side-graphs">6.2.2 Side by side graphs</a></li>
  <li><a href="#save-graphics-as-a-permanent-file" id="toc-save-graphics-as-a-permanent-file" class="nav-link" data-scroll-target="#save-graphics-as-a-permanent-file">6.2.3 Save graphics as a permanent file</a></li>
  <li><a href="#another-example-to-save-a-graph-as-a-permanent-file" id="toc-another-example-to-save-a-graph-as-a-permanent-file" class="nav-link" data-scroll-target="#another-example-to-save-a-graph-as-a-permanent-file">6.2.4 Another example to save a graph as a permanent file</a></li>
  <li><a href="#add-legends" id="toc-add-legends" class="nav-link" data-scroll-target="#add-legends">6.2.5 Add legends</a></li>
  <li><a href="#adding-more-elements-extra-lines-and-texts-on-a-graph" id="toc-adding-more-elements-extra-lines-and-texts-on-a-graph" class="nav-link" data-scroll-target="#adding-more-elements-extra-lines-and-texts-on-a-graph">6.2.6 Adding more elements: Extra lines and texts on a graph</a></li>
  <li><a href="#add-a-mathematical-expression" id="toc-add-a-mathematical-expression" class="nav-link" data-scroll-target="#add-a-mathematical-expression">6.2.7 Add a mathematical expression</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">6.2 Graphs in R Markdown: Advanced Tools</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="video-graphs-in-r-markdown-advanced-tools" class="level3">
<h3 class="anchored" data-anchor-id="video-graphs-in-r-markdown-advanced-tools">Video: Graphs in R Markdown &amp; Advanced Tools</h3>
<p>The following video will describe further tools to help build figures and graphs in RStudio. This includes how to save figures in multiple formats.</p>
<div class="quarto-video ratio ratio-16x9"><iframe data-external="1" src="https://www.youtube.com/embed/erl9fnE6ufE" title="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
</section>
<section id="preparing-directory-and-data-setup" class="level2">
<h2 class="anchored" data-anchor-id="preparing-directory-and-data-setup">6.2.1 Preparing directory and data setup</h2>
<p>Follow these steps:</p>
<p>Step 1: Import the data “VRI_data.csv” and rename it as vri_data. Step 2: Use the attach function to mask all variable names to use these names directly.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># current directory</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Importing VRI data</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>vri_data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"VRI_data.csv"</span>, <span class="at">header =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Listing all files in the directory</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">dir</span>()</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">attach</span>(vri_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="side-by-side-graphs" class="level2">
<h2 class="anchored" data-anchor-id="side-by-side-graphs">6.2.2 Side by side graphs</h2>
<p>From the vri data, we want to compare the height trend of two species by looking at their graphs. For “PLC” species show the maximum height on the graph.</p>
<p>Step 1: Create a separate data set for each species Step 2: Specify the margin to add space for two graphs side-by-side Step 3: Plot these two graphs Step 4: Select the maximum height from the “PLC” species and show it on the graph.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co"># separating data by species</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>d1<span class="ot">&lt;-</span> <span class="fu">subset</span>(vri_data, (SPECIES_CD_1 <span class="sc">==</span><span class="st">'CW'</span>))</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>d2<span class="ot">&lt;-</span> <span class="fu">subset</span>(vri_data, (SPECIES_CD_1 <span class="sc">==</span><span class="st">'PLC'</span>))</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co"># controlling margins: specifying the margin using mai</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>),<span class="at">mai=</span><span class="fu">c</span>(<span class="fl">0.9</span>,<span class="fl">1.1</span>,<span class="fl">0.5</span>,<span class="fl">0.3</span>), <span class="at">cex=</span><span class="fl">1.0</span> ) <span class="co"># mai is the margin</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>ylabel<span class="ot">=</span><span class="st">"Projected Height (m)"</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>xlabel<span class="ot">=</span><span class="st">"Projected Age (years)"</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>ylm<span class="ot">=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">70</span>)</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>xlm<span class="ot">=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">470</span>)</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>cxlb<span class="ot">=</span><span class="fl">1.5</span> <span class="co"># axis level - fontsize</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>cxaxis<span class="ot">=</span><span class="dv">1</span> <span class="co"># axis fontsize</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>maincx<span class="ot">=</span><span class="fl">2.5</span> <span class="co"># title font</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>age<span class="ot">=</span><span class="dv">3</span> <span class="co"># age column number</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>height<span class="ot">=</span><span class="dv">4</span> <span class="co"># height column number</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>ldcex<span class="ot">=</span><span class="dv">1</span> <span class="co"># size of points</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>ld<span class="ot">=</span><span class="dv">2</span> <span class="co"># line width of points, we are making it thicker to emphasis on this maximum height value </span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>maxd1<span class="ot">&lt;-</span> <span class="fu">max</span>(d2[,height])</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>m1<span class="ot">&lt;-</span><span class="fu">subset</span>(d2, PROJ_HEIGHT_1<span class="sc">==</span>maxd1)</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a><span class="co"># graph 1</span></span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(d1[,age],d1[,height], <span class="at">type =</span> <span class="st">"p"</span>, <span class="at">pch =</span> <span class="dv">1</span>, <span class="at">col =</span> <span class="st">"black"</span>, <span class="at">main=</span><span class="st">" "</span>, <span class="at">ylim=</span>ylm, <span class="at">xlim=</span>xlm, <span class="at">cex=</span>ldcex, <span class="at">cex.lab=</span>cxlb, <span class="at">cex.axis=</span>cxaxis, <span class="at">xlab=</span>xlabel, <span class="at">ylab=</span>ylabel)</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a><span class="co"># graph 2</span></span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(d2[,age],d2[,height], <span class="at">type =</span> <span class="st">"p"</span>, <span class="at">pch =</span> <span class="dv">2</span>, <span class="at">col =</span> <span class="st">"blue"</span>,  <span class="at">ylim=</span>ylm, <span class="at">xlim=</span>xlm, <span class="at">cex=</span>ldcex, <span class="at">cex.lab=</span>cxlb, <span class="at">cex.axis=</span>cxaxis,  <span class="at">xlab=</span>xlabel, <span class="at">ylab=</span>ylabel)</span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(m1[,age],m1[,height], <span class="at">type =</span> <span class="st">"p"</span>, <span class="at">pch =</span> <span class="dv">6</span>, <span class="at">col =</span> <span class="st">"red"</span>, <span class="at">lwd=</span>ld, <span class="at">cex=</span>ldcex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="save-graphics-as-a-permanent-file" class="level2">
<h2 class="anchored" data-anchor-id="save-graphics-as-a-permanent-file">6.2.3 Save graphics as a permanent file</h2>
<p>The side-by-side graphs you created above - we want to save it as an image in the folder where you kept this.RMD file. This is called “saving as a permanent” graph/file/image. We can save plots as permanent files in different formats in R. To save a plot as an image use the <code>png()</code> function and specify the name of the file in quotes (<code>file=“name_of_new_file”</code>), the with and height of the graph (<code>with=</code> and <code>height=</code>), units (<code>units=</code>), and the resolution wanted for the plot (<code>res=</code>). Then use the <code>par()</code> function to define the number of subplots and margins. Finally, write the code for each of the graphs that you want to save and run all the chunks of code together. This will automatically create a png file with your graphs in your working directory.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">png</span>(<span class="st">"Graph2.png"</span>, <span class="at">width=</span><span class="dv">15</span>, <span class="at">height=</span><span class="dv">10</span>, <span class="at">units =</span> <span class="st">'in'</span>, <span class="at">res=</span><span class="dv">1200</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>),<span class="at">mai=</span><span class="fu">c</span>(<span class="fl">1.1</span>,<span class="fl">0.9</span>,<span class="fl">0.8</span>,<span class="fl">0.3</span>), <span class="at">cex=</span><span class="fl">1.0</span>, <span class="at">xpd=</span><span class="cn">NA</span>) <span class="co"># mai is the margin</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co"># graph 1</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(d1[,age],d1[,height], <span class="at">type =</span> <span class="st">"p"</span>, <span class="at">pch =</span> <span class="dv">1</span>, <span class="at">col =</span> <span class="st">"black"</span>, <span class="at">main=</span><span class="st">" "</span>, <span class="at">ylim=</span>ylm, <span class="at">xlim=</span>xlm, <span class="at">cex=</span>ldcex, <span class="at">cex.lab=</span>cxlb, <span class="at">cex.axis=</span>cxaxis, <span class="at">xlab=</span>xlabel, <span class="at">ylab=</span>ylabel)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="co"># graph 2</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(d2[,age],d2[,height], <span class="at">type =</span> <span class="st">"p"</span>, <span class="at">pch =</span> <span class="dv">2</span>, <span class="at">col =</span> <span class="st">"blue"</span>,  <span class="at">ylim=</span>ylm, <span class="at">xlim=</span>xlm, <span class="at">cex=</span>ldcex, <span class="at">cex.lab=</span>cxlb, <span class="at">cex.axis=</span>cxaxis,  <span class="at">xlab=</span>xlabel, <span class="at">ylab=</span>ylabel)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(m1[,age],m1[,height], <span class="at">type =</span> <span class="st">"p"</span>, <span class="at">pch =</span> <span class="dv">6</span>, <span class="at">col =</span> <span class="st">"red"</span>, <span class="at">lwd=</span>ld, <span class="at">cex=</span>ldcex)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="fu">graphics.off</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="another-example-to-save-a-graph-as-a-permanent-file" class="level2">
<h2 class="anchored" data-anchor-id="another-example-to-save-a-graph-as-a-permanent-file">6.2.4 Another example to save a graph as a permanent file</h2>
<p>You can also save your plots as pdf files by using the <code>pdf()</code> function. To save multiple graphs use the <code>par()</code> function and define the order of your plots by using the function <code>plot()</code>. This will order the graphs from the top left to top right, bottom left, and bottom right in case of using four subplots. Use <code>mtext()</code> to add subtitles to each of your plots if desired.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating Data:</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">3</span>, <span class="at">length=</span><span class="dv">100</span>)  <span class="co"># vector with 100 values from 0 to 3</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co"># create three functions of x</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>y1 <span class="ot">&lt;-</span>  x<span class="sc">^</span><span class="dv">2</span><span class="sc">+</span><span class="dv">1</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>y2 <span class="ot">&lt;-</span> <span class="sc">-</span>x<span class="sc">^</span><span class="dv">2</span><span class="sc">+</span><span class="dv">9</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>y3 <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(x)</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="co"># saving as a pdf file</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="fu">pdf</span>(<span class="at">file=</span><span class="st">"Example_save.pdf"</span>)</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">2</span>),    <span class="co"># 2 x 2 pictures on one plot</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>          <span class="at">mar =</span> <span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">2</span>),     <span class="co"># gives # of lines of margin on four sides of plot</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>          <span class="co"># c(bottom, left, top, right)</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>          <span class="at">pty =</span> <span class="st">"s"</span>,            <span class="co"># square plotting region,</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>          <span class="at">bg=</span><span class="st">"lightyellow"</span>) <span class="co"># set background color</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a><span class="co"># top left:</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x,y1)</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a><span class="fu">mtext</span>(<span class="st">"Function 1"</span>, <span class="at">side =</span> <span class="dv">3</span>, <span class="at">line =</span> <span class="fl">0.2</span>) <span class="co"># add title for top left panel</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a><span class="co"># top right:</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x,y2)</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a><span class="fu">mtext</span>(<span class="st">"Function 2"</span>, <span class="at">side =</span> <span class="dv">3</span>, <span class="at">line =</span> <span class="fl">0.2</span>)</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a><span class="co"># bottom left:</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x,y3)</span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a><span class="fu">mtext</span>(<span class="st">"Function 3"</span>, <span class="at">side =</span> <span class="dv">3</span>, <span class="at">line =</span> <span class="fl">0.2</span>) </span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a><span class="co"># bottom right:</span></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x,y1, <span class="at">axes=</span><span class="cn">FALSE</span>,</span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">10</span>), <span class="at">xlim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">3</span>),</span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">""</span>, <span class="at">ylab =</span> <span class="st">""</span>, <span class="at">type=</span><span class="st">"n"</span>)</span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(x,y1, <span class="at">lty=</span><span class="dv">2</span>)</span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(x,y2, <span class="at">lty=</span><span class="dv">1</span>, <span class="at">lwd=</span><span class="dv">2</span>)</span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(x,y3, <span class="at">lty=</span><span class="dv">4</span>, <span class="at">lwd=</span><span class="dv">3</span>, <span class="at">col=</span><span class="dv">2</span>)</span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a><span class="fu">axis</span>(<span class="dv">1</span>) <span class="co"># x-axis</span></span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a><span class="fu">axis</span>(<span class="dv">2</span>) <span class="co"># y-axis</span></span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a><span class="fu">mtext</span>(<span class="st">"x"</span>, <span class="at">side =</span> <span class="dv">1</span>, <span class="at">line =</span> <span class="dv">3</span>)</span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a><span class="fu">mtext</span>(<span class="st">"y"</span>, <span class="at">side =</span> <span class="dv">2</span>, <span class="at">line =</span> <span class="dv">3</span>)</span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a><span class="fu">box</span>()   <span class="co"># add frame around graph</span></span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="dv">0</span>,<span class="fl">6.5</span>, <span class="fu">c</span>(<span class="st">"function 1"</span>,<span class="st">" function 2"</span>,<span class="st">"function 3"</span>),</span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a>       <span class="at">lty=</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">4</span>), <span class="at">lwd=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>), <span class="at">col=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>), <span class="at">cex =</span> <span class="fl">0.9</span>)</span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a><span class="fu">mtext</span>(<span class="st">"All three functions"</span>, <span class="at">side =</span> <span class="dv">3</span>, <span class="at">line =</span> <span class="fl">0.2</span>)</span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a><span class="co"># You can also use:</span></span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a><span class="co">#dev.off() </span></span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a><span class="fu">graphics.off</span>()</span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-57"><a href="#cb4-57" aria-hidden="true" tabindex="-1"></a><span class="co"># other examples are:</span></span>
<span id="cb4-58"><a href="#cb4-58" aria-hidden="true" tabindex="-1"></a><span class="co">#   postscript(file="filename.eps")     Adobe PostScript file</span></span>
<span id="cb4-59"><a href="#cb4-59" aria-hidden="true" tabindex="-1"></a><span class="co">#   jpeg(file="filename.jpeg")      JPEG bitmap file</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="add-legends" class="level2">
<h2 class="anchored" data-anchor-id="add-legends">6.2.5 Add legends</h2>
<p>We can add legends to our plot by using the <code>legend()</code> function. In this function, we must first define the coordinates where we want to place our legend in the graph. We can do this by defining the specific coordinates in the x and y axes where we want to place the legend or by writing <code>“toprigth”</code> or <code>“topleft”</code> (e.g.&nbsp;<code>legend(0, 3.1)</code> or <code>legend(“toprigth”)</code>). Then, we define the name of items in the legend by using <code>c()</code> (e. g. <code>legend(“toprigth”, c(“item1”, “item2”))</code>). Finally, we can add more details to the graph by changing the colour or plot symbols and size. Make sure that the number of colors and symbols matches the number of items you want to show in your legend.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>d1<span class="ot">&lt;-</span> <span class="fu">subset</span>(vri_data, (SPECIES_CD_1 <span class="sc">==</span><span class="st">'CW'</span>))</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>d2<span class="ot">&lt;-</span> <span class="fu">subset</span>(vri_data, (SPECIES_CD_1 <span class="sc">==</span><span class="st">'PLC'</span>))</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>ylabel<span class="ot">=</span><span class="st">"Projected Height (m)"</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>xlabel<span class="ot">=</span><span class="st">"Projected Age (years)"</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>ylm<span class="ot">=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">25</span>)</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>xlm<span class="ot">=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">200</span>)</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>cxlb<span class="ot">=</span><span class="fl">1.5</span> <span class="co"># axis level - fontsize</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>cxaxis<span class="ot">=</span><span class="fl">1.5</span> <span class="co"># axis fontsize</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>maincx<span class="ot">=</span><span class="fl">1.5</span> <span class="co"># title font</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>age<span class="ot">=</span><span class="dv">3</span> <span class="co"># age column number</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>height<span class="ot">=</span><span class="dv">4</span> <span class="co"># height column number</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>ldcex<span class="ot">=</span><span class="dv">3</span> <span class="co"># size ofpoints</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>ld<span class="ot">=</span><span class="dv">2</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>maxd1<span class="ot">&lt;-</span> <span class="fu">max</span>(d2[,height])</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>m1<span class="ot">&lt;-</span><span class="fu">subset</span>(d2, PROJ_HEIGHT_1<span class="sc">==</span>maxd1)</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>), <span class="at">pty=</span><span class="st">"s"</span>)</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a><span class="co"># graph 1</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(d2[,age],d2[,height], <span class="at">type =</span> <span class="st">"p"</span>, <span class="at">pch =</span> <span class="dv">20</span>, <span class="at">col =</span> <span class="st">"blue"</span>,  <span class="at">ylim=</span>ylm, <span class="at">xlim=</span>xlm, <span class="at">cex=</span>ldcex, <span class="at">cex.lab=</span>cxlb, <span class="at">cex.axis=</span>cxaxis,  <span class="at">xlab=</span>xlabel, <span class="at">ylab=</span>ylabel)</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(m1[,age],m1[,height], <span class="at">type =</span> <span class="st">"p"</span>, <span class="at">pch =</span><span class="dv">11</span>, <span class="at">col =</span> <span class="st">"red"</span>, <span class="at">lwd=</span>ld)</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Adding legend </span></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="dv">50</span>, <span class="dv">20</span>, <span class="fu">c</span>(<span class="st">"Projected height: Species is 'CW'"</span>, <span class="st">"Maximum Projected Height"</span>), <span class="at">col =</span> <span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"red"</span>), <span class="at">pch =</span> <span class="fu">c</span>(<span class="dv">20</span>, <span class="dv">11</span>), <span class="at">cex=</span>.<span class="dv">7</span>, <span class="at">pt.cex=</span><span class="fl">1.5</span>)</span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Legend location: another procedure</span></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>), <span class="at">pty=</span><span class="st">"s"</span>) <span class="co"># mai is the margin</span></span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a><span class="co"># graph 1</span></span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(d2[,age],d2[,height], <span class="at">type =</span> <span class="st">"p"</span>, <span class="at">pch =</span> <span class="dv">20</span>, <span class="at">col =</span> <span class="st">"blue"</span>,  <span class="at">ylim=</span>ylm, <span class="at">xlim=</span>xlm, <span class="at">cex=</span>ldcex, <span class="at">cex.lab=</span>cxlb, <span class="at">cex.axis=</span>cxaxis,  <span class="at">xlab=</span>xlabel, <span class="at">ylab=</span>ylabel)</span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(m1[,age],m1[,height], <span class="at">type =</span> <span class="st">"p"</span>, <span class="at">pch =</span><span class="dv">11</span>, <span class="at">col =</span> <span class="st">"red"</span>, <span class="at">lwd=</span>ld)</span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">"topright"</span>, <span class="fu">c</span>(<span class="st">"Projected height: Species is 'CW'"</span>, <span class="st">"Maximum Projected Height"</span>), <span class="at">col =</span> <span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"red"</span>), <span class="at">pch =</span> <span class="fu">c</span>(<span class="dv">20</span>, <span class="dv">11</span>), <span class="at">cex=</span><span class="dv">1</span>, <span class="at">pt.cex=</span>ld)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="adding-more-elements-extra-lines-and-texts-on-a-graph" class="level2">
<h2 class="anchored" data-anchor-id="adding-more-elements-extra-lines-and-texts-on-a-graph">6.2.6 Adding more elements: Extra lines and texts on a graph</h2>
<p>To add extra lines to our plots we can use the <code>abline()</code> function. In this function we must state the type of line that we want, vertical or horizontal, and the coordinates where we want the line in the plot (<code>abline(v=coordinate_in_y_axis)</code> or <code>abline(h(coordinate_in_x_axis))</code>). Line types can be specified using <code>lty()</code>, use 0=blank lines, 1=solid lines(default), 2=dashed lines, 3=dotted lines, 4=dotdash lines, 5=longdash lines, and 6=twodash lines. Finally, add text to the graph using <code>text()</code>, specify first the coordinates where you want the text, and then write what you want to show on the graph.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>), <span class="at">pty=</span><span class="st">"s"</span>) <span class="co"># mai is the margin</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co"># graph 1</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(d2[,age],d2[,height], <span class="at">type =</span> <span class="st">"p"</span>, <span class="at">pch =</span> <span class="dv">20</span>, <span class="at">col =</span> <span class="st">"blue"</span>,  <span class="at">ylim=</span>ylm, <span class="at">xlim=</span>xlm, <span class="at">cex=</span>ldcex, <span class="at">cex.lab=</span>cxlb, <span class="at">cex.axis=</span>cxaxis,  <span class="at">xlab=</span>xlabel, <span class="at">ylab=</span>ylabel)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(m1[,age],m1[,height], <span class="at">type =</span> <span class="st">"p"</span>, <span class="at">pch =</span><span class="dv">11</span>, <span class="at">col =</span> <span class="st">"red"</span>, <span class="at">lwd=</span>ld)</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">"topright"</span>, <span class="fu">c</span>(<span class="st">"Projected height: Species is 'CW'"</span>, <span class="st">"Maximum Projected Height"</span>), <span class="at">col =</span> <span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"red"</span>), <span class="at">pch =</span> <span class="fu">c</span>(<span class="dv">20</span>, <span class="dv">11</span>), <span class="at">cex=</span><span class="dv">1</span>, <span class="at">pt.cex=</span>ld)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="co"># additional lines</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="co"># add a vertical line at x=2</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v=</span><span class="dv">52</span>, <span class="at">lty=</span><span class="dv">2</span>)</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="co"># add a horizontal line at y=0</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h=</span><span class="dv">10</span>)</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a><span class="co"># abline(a,b) draws a line of slope b and intercept a</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a><span class="co"># add text</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="dv">120</span>,<span class="dv">15</span>,<span class="st">"Maximum Height"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="add-a-mathematical-expression" class="level2">
<h2 class="anchored" data-anchor-id="add-a-mathematical-expression">6.2.7 Add a mathematical expression</h2>
<p>To add mathematical expressions use the <code>expression()</code> function. Define the mathematical expressions on label axes between quotes and tildes ( ~ ) (e.g.&nbsp;<code>expression( “Total volume(”~ m^3 ~“)”)</code>).</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>),<span class="at">mai=</span><span class="fu">c</span>(<span class="fl">0.9</span>,<span class="fl">1.1</span>,<span class="fl">0.8</span>,<span class="fl">0.3</span>), <span class="at">cex=</span><span class="fl">1.0</span> ) <span class="co"># mai is the margin</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>ylabel<span class="ot">=</span><span class="st">"Projected Volume(m3)"</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>xlabel<span class="ot">=</span><span class="st">"Projected Age (years)"</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>ylm<span class="ot">=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">500</span>)</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>xlm<span class="ot">=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">470</span>)</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>cxlb<span class="ot">=</span><span class="dv">2</span> <span class="co"># axis level - fontsize</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>cxaxis<span class="ot">=</span><span class="fl">2.5</span> <span class="co"># axis fontsize</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>maincx<span class="ot">=</span><span class="fl">2.5</span> <span class="co"># title font</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>age<span class="ot">=</span><span class="dv">3</span> <span class="co"># age column number</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>height<span class="ot">=</span><span class="dv">4</span> <span class="co"># height column number</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>ldcex<span class="ot">=</span><span class="dv">2</span> <span class="co"># size ofpoints</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>ld<span class="ot">=</span><span class="dv">2</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>cx<span class="ot">=</span><span class="dv">2</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>ft<span class="ot">=</span><span class="dv">4</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a><span class="co"># graph 1</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(d1[,age],d1[,height], <span class="at">type =</span> <span class="st">"p"</span>, <span class="at">pch =</span> <span class="dv">1</span>, <span class="at">col =</span> <span class="st">"black"</span>, <span class="at">main=</span><span class="st">" "</span>,    <span class="at">ylim=</span>ylm, <span class="at">xlim=</span>xlm, <span class="at">cex=</span>ldcex, <span class="at">cex.lab=</span>cxlb, <span class="at">cex.axis=</span>cxaxis, <span class="at">xlab=</span>xlabel, <span class="at">ylab=</span><span class="st">""</span>)</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a><span class="fu">mtext</span>(<span class="fu">expression</span>(<span class="st">"Total volume ("</span><span class="sc">~</span>m<span class="sc">^</span><span class="dv">3</span><span class="sc">~</span><span class="st">")"</span>), <span class="at">side=</span><span class="dv">2</span>, <span class="at">line=</span><span class="dv">3</span>, <span class="at">las=</span><span class="dv">0</span>, <span class="at">cex=</span>cx, <span class="at">font =</span>ft)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Data Files:
</div>
</div>
<div class="callout-body-container callout-body">
<p>VRI data csv: <a href="./external_files/VRI_data.csv">VRI Data</a></p>
<p>VRI data RData: <a href="./external_files/VRI_data-2.RData">VRI RData</a></p>
</div>
</div>
<p>If the character/categorical variable is not producing the summary table as shown on the video then try the following:</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">as.factor</span>(SPECIES_CD_1))</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">as.factor</span>(SPECIES_CD_1))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>


<!-- -->

</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./r_graph_2.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">6.1 Basic Graphs: RStudio and R Markdown</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./r_graph_4.html" class="pagination-link">
        <span class="nav-page-text">6.3 Barplot in R Markdown</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb9" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu"># 6.2 Graphs in R Markdown: Advanced Tools {.unnumbered}</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">### Video: Graphs in R Markdown &amp; Advanced Tools</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>The following video will describe further tools to help build figures and graphs in RStudio. This includes how to save figures in multiple formats.</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>{{&lt; video https://www.youtube.com/watch?v=erl9fnE6ufE &gt;}}</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="fu">## 6.2.1 Preparing directory and data setup</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>Follow these steps:</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>Step 1: Import the data "VRI_data.csv" and rename it as vri_data. Step 2: Use the attach function to mask all variable names to use these names directly.</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a><span class="in">```{r,eval=FALSE}</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a><span class="co"># current directory</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Importing VRI data</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>vri_data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"VRI_data.csv"</span>, <span class="at">header =</span> <span class="cn">TRUE</span>)</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Listing all files in the directory</span></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a><span class="fu">dir</span>()</span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a><span class="fu">attach</span>(vri_data)</span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a><span class="fu">## 6.2.2 Side by side graphs</span></span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a>From the vri data, we want to compare the height trend of two species by looking at their graphs. For "PLC" species show the maximum height on the graph.</span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a>Step 1: Create a separate data set for each species Step 2: Specify the margin to add space for two graphs side-by-side Step 3: Plot these two graphs Step 4: Select the maximum height from the "PLC" species and show it on the graph.</span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a><span class="in">```{r,eval=FALSE}</span></span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-37"><a href="#cb9-37" aria-hidden="true" tabindex="-1"></a><span class="co"># separating data by species</span></span>
<span id="cb9-38"><a href="#cb9-38" aria-hidden="true" tabindex="-1"></a>d1<span class="ot">&lt;-</span> <span class="fu">subset</span>(vri_data, (SPECIES_CD_1 <span class="sc">==</span><span class="st">'CW'</span>))</span>
<span id="cb9-39"><a href="#cb9-39" aria-hidden="true" tabindex="-1"></a>d2<span class="ot">&lt;-</span> <span class="fu">subset</span>(vri_data, (SPECIES_CD_1 <span class="sc">==</span><span class="st">'PLC'</span>))</span>
<span id="cb9-40"><a href="#cb9-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-41"><a href="#cb9-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-42"><a href="#cb9-42" aria-hidden="true" tabindex="-1"></a><span class="co"># controlling margins: specifying the margin using mai</span></span>
<span id="cb9-43"><a href="#cb9-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-44"><a href="#cb9-44" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>),<span class="at">mai=</span><span class="fu">c</span>(<span class="fl">0.9</span>,<span class="fl">1.1</span>,<span class="fl">0.5</span>,<span class="fl">0.3</span>), <span class="at">cex=</span><span class="fl">1.0</span> ) <span class="co"># mai is the margin</span></span>
<span id="cb9-45"><a href="#cb9-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-46"><a href="#cb9-46" aria-hidden="true" tabindex="-1"></a>ylabel<span class="ot">=</span><span class="st">"Projected Height (m)"</span></span>
<span id="cb9-47"><a href="#cb9-47" aria-hidden="true" tabindex="-1"></a>xlabel<span class="ot">=</span><span class="st">"Projected Age (years)"</span></span>
<span id="cb9-48"><a href="#cb9-48" aria-hidden="true" tabindex="-1"></a>ylm<span class="ot">=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">70</span>)</span>
<span id="cb9-49"><a href="#cb9-49" aria-hidden="true" tabindex="-1"></a>xlm<span class="ot">=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">470</span>)</span>
<span id="cb9-50"><a href="#cb9-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-51"><a href="#cb9-51" aria-hidden="true" tabindex="-1"></a>cxlb<span class="ot">=</span><span class="fl">1.5</span> <span class="co"># axis level - fontsize</span></span>
<span id="cb9-52"><a href="#cb9-52" aria-hidden="true" tabindex="-1"></a>cxaxis<span class="ot">=</span><span class="dv">1</span> <span class="co"># axis fontsize</span></span>
<span id="cb9-53"><a href="#cb9-53" aria-hidden="true" tabindex="-1"></a>maincx<span class="ot">=</span><span class="fl">2.5</span> <span class="co"># title font</span></span>
<span id="cb9-54"><a href="#cb9-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-55"><a href="#cb9-55" aria-hidden="true" tabindex="-1"></a>age<span class="ot">=</span><span class="dv">3</span> <span class="co"># age column number</span></span>
<span id="cb9-56"><a href="#cb9-56" aria-hidden="true" tabindex="-1"></a>height<span class="ot">=</span><span class="dv">4</span> <span class="co"># height column number</span></span>
<span id="cb9-57"><a href="#cb9-57" aria-hidden="true" tabindex="-1"></a>ldcex<span class="ot">=</span><span class="dv">1</span> <span class="co"># size of points</span></span>
<span id="cb9-58"><a href="#cb9-58" aria-hidden="true" tabindex="-1"></a>ld<span class="ot">=</span><span class="dv">2</span> <span class="co"># line width of points, we are making it thicker to emphasis on this maximum height value </span></span>
<span id="cb9-59"><a href="#cb9-59" aria-hidden="true" tabindex="-1"></a>maxd1<span class="ot">&lt;-</span> <span class="fu">max</span>(d2[,height])</span>
<span id="cb9-60"><a href="#cb9-60" aria-hidden="true" tabindex="-1"></a>m1<span class="ot">&lt;-</span><span class="fu">subset</span>(d2, PROJ_HEIGHT_1<span class="sc">==</span>maxd1)</span>
<span id="cb9-61"><a href="#cb9-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-62"><a href="#cb9-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-63"><a href="#cb9-63" aria-hidden="true" tabindex="-1"></a><span class="co"># graph 1</span></span>
<span id="cb9-64"><a href="#cb9-64" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(d1[,age],d1[,height], <span class="at">type =</span> <span class="st">"p"</span>, <span class="at">pch =</span> <span class="dv">1</span>, <span class="at">col =</span> <span class="st">"black"</span>, <span class="at">main=</span><span class="st">" "</span>, <span class="at">ylim=</span>ylm, <span class="at">xlim=</span>xlm, <span class="at">cex=</span>ldcex, <span class="at">cex.lab=</span>cxlb, <span class="at">cex.axis=</span>cxaxis, <span class="at">xlab=</span>xlabel, <span class="at">ylab=</span>ylabel)</span>
<span id="cb9-65"><a href="#cb9-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-66"><a href="#cb9-66" aria-hidden="true" tabindex="-1"></a><span class="co"># graph 2</span></span>
<span id="cb9-67"><a href="#cb9-67" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(d2[,age],d2[,height], <span class="at">type =</span> <span class="st">"p"</span>, <span class="at">pch =</span> <span class="dv">2</span>, <span class="at">col =</span> <span class="st">"blue"</span>,  <span class="at">ylim=</span>ylm, <span class="at">xlim=</span>xlm, <span class="at">cex=</span>ldcex, <span class="at">cex.lab=</span>cxlb, <span class="at">cex.axis=</span>cxaxis,  <span class="at">xlab=</span>xlabel, <span class="at">ylab=</span>ylabel)</span>
<span id="cb9-68"><a href="#cb9-68" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(m1[,age],m1[,height], <span class="at">type =</span> <span class="st">"p"</span>, <span class="at">pch =</span> <span class="dv">6</span>, <span class="at">col =</span> <span class="st">"red"</span>, <span class="at">lwd=</span>ld, <span class="at">cex=</span>ldcex)</span>
<span id="cb9-69"><a href="#cb9-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-70"><a href="#cb9-70" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb9-71"><a href="#cb9-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-72"><a href="#cb9-72" aria-hidden="true" tabindex="-1"></a><span class="fu">## 6.2.3 Save graphics as a permanent file</span></span>
<span id="cb9-73"><a href="#cb9-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-74"><a href="#cb9-74" aria-hidden="true" tabindex="-1"></a>The side-by-side graphs you created above - we want to save it as an image in the folder where you kept this.RMD file. This is called "saving as a permanent" graph/file/image. We can save plots as permanent files in different formats in R. To save a plot as an image use the <span class="kw">&lt;code&gt;</span>png()<span class="kw">&lt;/code&gt;</span> function and specify the name of the file in quotes (<span class="kw">&lt;code&gt;</span>file="name_of_new_file"<span class="kw">&lt;/code&gt;</span>), the with and height of the graph (<span class="kw">&lt;code&gt;</span>with=<span class="kw">&lt;/code&gt;</span> and <span class="kw">&lt;code&gt;</span>height=<span class="kw">&lt;/code&gt;</span>), units (<span class="kw">&lt;code&gt;</span>units=<span class="kw">&lt;/code&gt;</span>), and the resolution wanted for the plot (<span class="kw">&lt;code&gt;</span>res=<span class="kw">&lt;/code&gt;</span>). Then use the <span class="kw">&lt;code&gt;</span>par()<span class="kw">&lt;/code&gt;</span> function to define the number of subplots and margins. Finally, write the code for each of the graphs that you want to save and run all the chunks of code together. This will automatically create a png file with your graphs in your working directory.</span>
<span id="cb9-75"><a href="#cb9-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-76"><a href="#cb9-76" aria-hidden="true" tabindex="-1"></a><span class="in">```{r,eval=FALSE}</span></span>
<span id="cb9-77"><a href="#cb9-77" aria-hidden="true" tabindex="-1"></a><span class="fu">png</span>(<span class="st">"Graph2.png"</span>, <span class="at">width=</span><span class="dv">15</span>, <span class="at">height=</span><span class="dv">10</span>, <span class="at">units =</span> <span class="st">'in'</span>, <span class="at">res=</span><span class="dv">1200</span>)</span>
<span id="cb9-78"><a href="#cb9-78" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>),<span class="at">mai=</span><span class="fu">c</span>(<span class="fl">1.1</span>,<span class="fl">0.9</span>,<span class="fl">0.8</span>,<span class="fl">0.3</span>), <span class="at">cex=</span><span class="fl">1.0</span>, <span class="at">xpd=</span><span class="cn">NA</span>) <span class="co"># mai is the margin</span></span>
<span id="cb9-79"><a href="#cb9-79" aria-hidden="true" tabindex="-1"></a><span class="co"># graph 1</span></span>
<span id="cb9-80"><a href="#cb9-80" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(d1[,age],d1[,height], <span class="at">type =</span> <span class="st">"p"</span>, <span class="at">pch =</span> <span class="dv">1</span>, <span class="at">col =</span> <span class="st">"black"</span>, <span class="at">main=</span><span class="st">" "</span>, <span class="at">ylim=</span>ylm, <span class="at">xlim=</span>xlm, <span class="at">cex=</span>ldcex, <span class="at">cex.lab=</span>cxlb, <span class="at">cex.axis=</span>cxaxis, <span class="at">xlab=</span>xlabel, <span class="at">ylab=</span>ylabel)</span>
<span id="cb9-81"><a href="#cb9-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-82"><a href="#cb9-82" aria-hidden="true" tabindex="-1"></a><span class="co"># graph 2</span></span>
<span id="cb9-83"><a href="#cb9-83" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(d2[,age],d2[,height], <span class="at">type =</span> <span class="st">"p"</span>, <span class="at">pch =</span> <span class="dv">2</span>, <span class="at">col =</span> <span class="st">"blue"</span>,  <span class="at">ylim=</span>ylm, <span class="at">xlim=</span>xlm, <span class="at">cex=</span>ldcex, <span class="at">cex.lab=</span>cxlb, <span class="at">cex.axis=</span>cxaxis,  <span class="at">xlab=</span>xlabel, <span class="at">ylab=</span>ylabel)</span>
<span id="cb9-84"><a href="#cb9-84" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(m1[,age],m1[,height], <span class="at">type =</span> <span class="st">"p"</span>, <span class="at">pch =</span> <span class="dv">6</span>, <span class="at">col =</span> <span class="st">"red"</span>, <span class="at">lwd=</span>ld, <span class="at">cex=</span>ldcex)</span>
<span id="cb9-85"><a href="#cb9-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-86"><a href="#cb9-86" aria-hidden="true" tabindex="-1"></a><span class="fu">graphics.off</span>()</span>
<span id="cb9-87"><a href="#cb9-87" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb9-88"><a href="#cb9-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-89"><a href="#cb9-89" aria-hidden="true" tabindex="-1"></a><span class="fu">## 6.2.4 Another example to save a graph as a permanent file</span></span>
<span id="cb9-90"><a href="#cb9-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-91"><a href="#cb9-91" aria-hidden="true" tabindex="-1"></a>You can also save your plots as pdf files by using the <span class="kw">&lt;code&gt;</span>pdf()<span class="kw">&lt;/code&gt;</span> function. To save multiple graphs use the <span class="kw">&lt;code&gt;</span>par()<span class="kw">&lt;/code&gt;</span> function and define the order of your plots by using the function <span class="kw">&lt;code&gt;</span>plot()<span class="kw">&lt;/code&gt;</span>. This will order the graphs from the top left to top right, bottom left, and bottom right in case of using four subplots. Use <span class="kw">&lt;code&gt;</span>mtext()<span class="kw">&lt;/code&gt;</span> to add subtitles to each of your plots if desired.</span>
<span id="cb9-92"><a href="#cb9-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-93"><a href="#cb9-93" aria-hidden="true" tabindex="-1"></a><span class="in">```{r,eval=FALSE}</span></span>
<span id="cb9-94"><a href="#cb9-94" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating Data:</span></span>
<span id="cb9-95"><a href="#cb9-95" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">3</span>, <span class="at">length=</span><span class="dv">100</span>)  <span class="co"># vector with 100 values from 0 to 3</span></span>
<span id="cb9-96"><a href="#cb9-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-97"><a href="#cb9-97" aria-hidden="true" tabindex="-1"></a><span class="co"># create three functions of x</span></span>
<span id="cb9-98"><a href="#cb9-98" aria-hidden="true" tabindex="-1"></a>y1 <span class="ot">&lt;-</span>  x<span class="sc">^</span><span class="dv">2</span><span class="sc">+</span><span class="dv">1</span></span>
<span id="cb9-99"><a href="#cb9-99" aria-hidden="true" tabindex="-1"></a>y2 <span class="ot">&lt;-</span> <span class="sc">-</span>x<span class="sc">^</span><span class="dv">2</span><span class="sc">+</span><span class="dv">9</span></span>
<span id="cb9-100"><a href="#cb9-100" aria-hidden="true" tabindex="-1"></a>y3 <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(x)</span>
<span id="cb9-101"><a href="#cb9-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-102"><a href="#cb9-102" aria-hidden="true" tabindex="-1"></a><span class="co"># saving as a pdf file</span></span>
<span id="cb9-103"><a href="#cb9-103" aria-hidden="true" tabindex="-1"></a><span class="fu">pdf</span>(<span class="at">file=</span><span class="st">"Example_save.pdf"</span>)</span>
<span id="cb9-104"><a href="#cb9-104" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">2</span>),    <span class="co"># 2 x 2 pictures on one plot</span></span>
<span id="cb9-105"><a href="#cb9-105" aria-hidden="true" tabindex="-1"></a>          <span class="at">mar =</span> <span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">2</span>),     <span class="co"># gives # of lines of margin on four sides of plot</span></span>
<span id="cb9-106"><a href="#cb9-106" aria-hidden="true" tabindex="-1"></a>          <span class="co"># c(bottom, left, top, right)</span></span>
<span id="cb9-107"><a href="#cb9-107" aria-hidden="true" tabindex="-1"></a>          <span class="at">pty =</span> <span class="st">"s"</span>,            <span class="co"># square plotting region,</span></span>
<span id="cb9-108"><a href="#cb9-108" aria-hidden="true" tabindex="-1"></a>          <span class="at">bg=</span><span class="st">"lightyellow"</span>) <span class="co"># set background color</span></span>
<span id="cb9-109"><a href="#cb9-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-110"><a href="#cb9-110" aria-hidden="true" tabindex="-1"></a><span class="co"># top left:</span></span>
<span id="cb9-111"><a href="#cb9-111" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x,y1)</span>
<span id="cb9-112"><a href="#cb9-112" aria-hidden="true" tabindex="-1"></a><span class="fu">mtext</span>(<span class="st">"Function 1"</span>, <span class="at">side =</span> <span class="dv">3</span>, <span class="at">line =</span> <span class="fl">0.2</span>) <span class="co"># add title for top left panel</span></span>
<span id="cb9-113"><a href="#cb9-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-114"><a href="#cb9-114" aria-hidden="true" tabindex="-1"></a><span class="co"># top right:</span></span>
<span id="cb9-115"><a href="#cb9-115" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x,y2)</span>
<span id="cb9-116"><a href="#cb9-116" aria-hidden="true" tabindex="-1"></a><span class="fu">mtext</span>(<span class="st">"Function 2"</span>, <span class="at">side =</span> <span class="dv">3</span>, <span class="at">line =</span> <span class="fl">0.2</span>)</span>
<span id="cb9-117"><a href="#cb9-117" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-118"><a href="#cb9-118" aria-hidden="true" tabindex="-1"></a><span class="co"># bottom left:</span></span>
<span id="cb9-119"><a href="#cb9-119" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x,y3)</span>
<span id="cb9-120"><a href="#cb9-120" aria-hidden="true" tabindex="-1"></a><span class="fu">mtext</span>(<span class="st">"Function 3"</span>, <span class="at">side =</span> <span class="dv">3</span>, <span class="at">line =</span> <span class="fl">0.2</span>) </span>
<span id="cb9-121"><a href="#cb9-121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-122"><a href="#cb9-122" aria-hidden="true" tabindex="-1"></a><span class="co"># bottom right:</span></span>
<span id="cb9-123"><a href="#cb9-123" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x,y1, <span class="at">axes=</span><span class="cn">FALSE</span>,</span>
<span id="cb9-124"><a href="#cb9-124" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">10</span>), <span class="at">xlim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">3</span>),</span>
<span id="cb9-125"><a href="#cb9-125" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">""</span>, <span class="at">ylab =</span> <span class="st">""</span>, <span class="at">type=</span><span class="st">"n"</span>)</span>
<span id="cb9-126"><a href="#cb9-126" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(x,y1, <span class="at">lty=</span><span class="dv">2</span>)</span>
<span id="cb9-127"><a href="#cb9-127" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(x,y2, <span class="at">lty=</span><span class="dv">1</span>, <span class="at">lwd=</span><span class="dv">2</span>)</span>
<span id="cb9-128"><a href="#cb9-128" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(x,y3, <span class="at">lty=</span><span class="dv">4</span>, <span class="at">lwd=</span><span class="dv">3</span>, <span class="at">col=</span><span class="dv">2</span>)</span>
<span id="cb9-129"><a href="#cb9-129" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-130"><a href="#cb9-130" aria-hidden="true" tabindex="-1"></a><span class="fu">axis</span>(<span class="dv">1</span>) <span class="co"># x-axis</span></span>
<span id="cb9-131"><a href="#cb9-131" aria-hidden="true" tabindex="-1"></a><span class="fu">axis</span>(<span class="dv">2</span>) <span class="co"># y-axis</span></span>
<span id="cb9-132"><a href="#cb9-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-133"><a href="#cb9-133" aria-hidden="true" tabindex="-1"></a><span class="fu">mtext</span>(<span class="st">"x"</span>, <span class="at">side =</span> <span class="dv">1</span>, <span class="at">line =</span> <span class="dv">3</span>)</span>
<span id="cb9-134"><a href="#cb9-134" aria-hidden="true" tabindex="-1"></a><span class="fu">mtext</span>(<span class="st">"y"</span>, <span class="at">side =</span> <span class="dv">2</span>, <span class="at">line =</span> <span class="dv">3</span>)</span>
<span id="cb9-135"><a href="#cb9-135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-136"><a href="#cb9-136" aria-hidden="true" tabindex="-1"></a><span class="fu">box</span>()   <span class="co"># add frame around graph</span></span>
<span id="cb9-137"><a href="#cb9-137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-138"><a href="#cb9-138" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="dv">0</span>,<span class="fl">6.5</span>, <span class="fu">c</span>(<span class="st">"function 1"</span>,<span class="st">" function 2"</span>,<span class="st">"function 3"</span>),</span>
<span id="cb9-139"><a href="#cb9-139" aria-hidden="true" tabindex="-1"></a>       <span class="at">lty=</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">4</span>), <span class="at">lwd=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>), <span class="at">col=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>), <span class="at">cex =</span> <span class="fl">0.9</span>)</span>
<span id="cb9-140"><a href="#cb9-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-141"><a href="#cb9-141" aria-hidden="true" tabindex="-1"></a><span class="fu">mtext</span>(<span class="st">"All three functions"</span>, <span class="at">side =</span> <span class="dv">3</span>, <span class="at">line =</span> <span class="fl">0.2</span>)</span>
<span id="cb9-142"><a href="#cb9-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-143"><a href="#cb9-143" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-144"><a href="#cb9-144" aria-hidden="true" tabindex="-1"></a><span class="co"># You can also use:</span></span>
<span id="cb9-145"><a href="#cb9-145" aria-hidden="true" tabindex="-1"></a><span class="co">#dev.off() </span></span>
<span id="cb9-146"><a href="#cb9-146" aria-hidden="true" tabindex="-1"></a><span class="fu">graphics.off</span>()</span>
<span id="cb9-147"><a href="#cb9-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-148"><a href="#cb9-148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-149"><a href="#cb9-149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-150"><a href="#cb9-150" aria-hidden="true" tabindex="-1"></a><span class="co"># other examples are:</span></span>
<span id="cb9-151"><a href="#cb9-151" aria-hidden="true" tabindex="-1"></a><span class="co">#   postscript(file="filename.eps")     Adobe PostScript file</span></span>
<span id="cb9-152"><a href="#cb9-152" aria-hidden="true" tabindex="-1"></a><span class="co">#   jpeg(file="filename.jpeg")      JPEG bitmap file</span></span>
<span id="cb9-153"><a href="#cb9-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-154"><a href="#cb9-154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-155"><a href="#cb9-155" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb9-156"><a href="#cb9-156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-157"><a href="#cb9-157" aria-hidden="true" tabindex="-1"></a><span class="fu">## 6.2.5 Add legends</span></span>
<span id="cb9-158"><a href="#cb9-158" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-159"><a href="#cb9-159" aria-hidden="true" tabindex="-1"></a>We can add legends to our plot by using the <span class="kw">&lt;code&gt;</span>legend()<span class="kw">&lt;/code&gt;</span> function. In this function, we must first define the coordinates where we want to place our legend in the graph. We can do this by defining the specific coordinates in the x and y axes where we want to place the legend or by writing <span class="kw">&lt;code&gt;</span>"toprigth"<span class="kw">&lt;/code&gt;</span> or <span class="kw">&lt;code&gt;</span>"topleft"<span class="kw">&lt;/code&gt;</span> (e.g. <span class="kw">&lt;code&gt;</span>legend(0, 3.1)<span class="kw">&lt;/code&gt;</span> or <span class="kw">&lt;code&gt;</span>legend("toprigth")<span class="kw">&lt;/code&gt;</span>). Then, we define the name of items in the legend by using <span class="kw">&lt;code&gt;</span>c()<span class="kw">&lt;/code&gt;</span> (e. g. <span class="kw">&lt;code&gt;</span>legend("toprigth", c("item1", "item2"))<span class="kw">&lt;/code&gt;</span>). Finally, we can add more details to the graph by changing the colour or plot symbols and size. Make sure that the number of colors and symbols matches the number of items you want to show in your legend.</span>
<span id="cb9-160"><a href="#cb9-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-161"><a href="#cb9-161" aria-hidden="true" tabindex="-1"></a><span class="in">```{r,eval=FALSE}</span></span>
<span id="cb9-162"><a href="#cb9-162" aria-hidden="true" tabindex="-1"></a>d1<span class="ot">&lt;-</span> <span class="fu">subset</span>(vri_data, (SPECIES_CD_1 <span class="sc">==</span><span class="st">'CW'</span>))</span>
<span id="cb9-163"><a href="#cb9-163" aria-hidden="true" tabindex="-1"></a>d2<span class="ot">&lt;-</span> <span class="fu">subset</span>(vri_data, (SPECIES_CD_1 <span class="sc">==</span><span class="st">'PLC'</span>))</span>
<span id="cb9-164"><a href="#cb9-164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-165"><a href="#cb9-165" aria-hidden="true" tabindex="-1"></a>ylabel<span class="ot">=</span><span class="st">"Projected Height (m)"</span></span>
<span id="cb9-166"><a href="#cb9-166" aria-hidden="true" tabindex="-1"></a>xlabel<span class="ot">=</span><span class="st">"Projected Age (years)"</span></span>
<span id="cb9-167"><a href="#cb9-167" aria-hidden="true" tabindex="-1"></a>ylm<span class="ot">=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">25</span>)</span>
<span id="cb9-168"><a href="#cb9-168" aria-hidden="true" tabindex="-1"></a>xlm<span class="ot">=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">200</span>)</span>
<span id="cb9-169"><a href="#cb9-169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-170"><a href="#cb9-170" aria-hidden="true" tabindex="-1"></a>cxlb<span class="ot">=</span><span class="fl">1.5</span> <span class="co"># axis level - fontsize</span></span>
<span id="cb9-171"><a href="#cb9-171" aria-hidden="true" tabindex="-1"></a>cxaxis<span class="ot">=</span><span class="fl">1.5</span> <span class="co"># axis fontsize</span></span>
<span id="cb9-172"><a href="#cb9-172" aria-hidden="true" tabindex="-1"></a>maincx<span class="ot">=</span><span class="fl">1.5</span> <span class="co"># title font</span></span>
<span id="cb9-173"><a href="#cb9-173" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-174"><a href="#cb9-174" aria-hidden="true" tabindex="-1"></a>age<span class="ot">=</span><span class="dv">3</span> <span class="co"># age column number</span></span>
<span id="cb9-175"><a href="#cb9-175" aria-hidden="true" tabindex="-1"></a>height<span class="ot">=</span><span class="dv">4</span> <span class="co"># height column number</span></span>
<span id="cb9-176"><a href="#cb9-176" aria-hidden="true" tabindex="-1"></a>ldcex<span class="ot">=</span><span class="dv">3</span> <span class="co"># size ofpoints</span></span>
<span id="cb9-177"><a href="#cb9-177" aria-hidden="true" tabindex="-1"></a>ld<span class="ot">=</span><span class="dv">2</span></span>
<span id="cb9-178"><a href="#cb9-178" aria-hidden="true" tabindex="-1"></a>maxd1<span class="ot">&lt;-</span> <span class="fu">max</span>(d2[,height])</span>
<span id="cb9-179"><a href="#cb9-179" aria-hidden="true" tabindex="-1"></a>m1<span class="ot">&lt;-</span><span class="fu">subset</span>(d2, PROJ_HEIGHT_1<span class="sc">==</span>maxd1)</span>
<span id="cb9-180"><a href="#cb9-180" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>), <span class="at">pty=</span><span class="st">"s"</span>)</span>
<span id="cb9-181"><a href="#cb9-181" aria-hidden="true" tabindex="-1"></a><span class="co"># graph 1</span></span>
<span id="cb9-182"><a href="#cb9-182" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(d2[,age],d2[,height], <span class="at">type =</span> <span class="st">"p"</span>, <span class="at">pch =</span> <span class="dv">20</span>, <span class="at">col =</span> <span class="st">"blue"</span>,  <span class="at">ylim=</span>ylm, <span class="at">xlim=</span>xlm, <span class="at">cex=</span>ldcex, <span class="at">cex.lab=</span>cxlb, <span class="at">cex.axis=</span>cxaxis,  <span class="at">xlab=</span>xlabel, <span class="at">ylab=</span>ylabel)</span>
<span id="cb9-183"><a href="#cb9-183" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(m1[,age],m1[,height], <span class="at">type =</span> <span class="st">"p"</span>, <span class="at">pch =</span><span class="dv">11</span>, <span class="at">col =</span> <span class="st">"red"</span>, <span class="at">lwd=</span>ld)</span>
<span id="cb9-184"><a href="#cb9-184" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-185"><a href="#cb9-185" aria-hidden="true" tabindex="-1"></a><span class="co"># Adding legend </span></span>
<span id="cb9-186"><a href="#cb9-186" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="dv">50</span>, <span class="dv">20</span>, <span class="fu">c</span>(<span class="st">"Projected height: Species is 'CW'"</span>, <span class="st">"Maximum Projected Height"</span>), <span class="at">col =</span> <span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"red"</span>), <span class="at">pch =</span> <span class="fu">c</span>(<span class="dv">20</span>, <span class="dv">11</span>), <span class="at">cex=</span>.<span class="dv">7</span>, <span class="at">pt.cex=</span><span class="fl">1.5</span>)</span>
<span id="cb9-187"><a href="#cb9-187" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-188"><a href="#cb9-188" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-189"><a href="#cb9-189" aria-hidden="true" tabindex="-1"></a><span class="co"># Legend location: another procedure</span></span>
<span id="cb9-190"><a href="#cb9-190" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-191"><a href="#cb9-191" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>), <span class="at">pty=</span><span class="st">"s"</span>) <span class="co"># mai is the margin</span></span>
<span id="cb9-192"><a href="#cb9-192" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-193"><a href="#cb9-193" aria-hidden="true" tabindex="-1"></a><span class="co"># graph 1</span></span>
<span id="cb9-194"><a href="#cb9-194" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(d2[,age],d2[,height], <span class="at">type =</span> <span class="st">"p"</span>, <span class="at">pch =</span> <span class="dv">20</span>, <span class="at">col =</span> <span class="st">"blue"</span>,  <span class="at">ylim=</span>ylm, <span class="at">xlim=</span>xlm, <span class="at">cex=</span>ldcex, <span class="at">cex.lab=</span>cxlb, <span class="at">cex.axis=</span>cxaxis,  <span class="at">xlab=</span>xlabel, <span class="at">ylab=</span>ylabel)</span>
<span id="cb9-195"><a href="#cb9-195" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(m1[,age],m1[,height], <span class="at">type =</span> <span class="st">"p"</span>, <span class="at">pch =</span><span class="dv">11</span>, <span class="at">col =</span> <span class="st">"red"</span>, <span class="at">lwd=</span>ld)</span>
<span id="cb9-196"><a href="#cb9-196" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">"topright"</span>, <span class="fu">c</span>(<span class="st">"Projected height: Species is 'CW'"</span>, <span class="st">"Maximum Projected Height"</span>), <span class="at">col =</span> <span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"red"</span>), <span class="at">pch =</span> <span class="fu">c</span>(<span class="dv">20</span>, <span class="dv">11</span>), <span class="at">cex=</span><span class="dv">1</span>, <span class="at">pt.cex=</span>ld)</span>
<span id="cb9-197"><a href="#cb9-197" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-198"><a href="#cb9-198" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb9-199"><a href="#cb9-199" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-200"><a href="#cb9-200" aria-hidden="true" tabindex="-1"></a><span class="fu">## 6.2.6 Adding more elements: Extra lines and texts on a graph</span></span>
<span id="cb9-201"><a href="#cb9-201" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-202"><a href="#cb9-202" aria-hidden="true" tabindex="-1"></a>To add extra lines to our plots we can use the <span class="kw">&lt;code&gt;</span>abline()<span class="kw">&lt;/code&gt;</span> function. In this function we must state the type of line that we want, vertical or horizontal, and the coordinates where we want the line in the plot (<span class="kw">&lt;code&gt;</span>abline(v=coordinate_in_y<span class="sc">\_</span>axis)<span class="kw">&lt;/code&gt;</span> or <span class="kw">&lt;code&gt;</span>abline(h(coordinate_in_x<span class="sc">\_</span>axis))<span class="kw">&lt;/code&gt;</span>). Line types can be specified using <span class="kw">&lt;code&gt;</span>lty()<span class="kw">&lt;/code&gt;</span>, use 0=blank lines, 1=solid lines(default), 2=dashed lines, 3=dotted lines, 4=dotdash lines, 5=longdash lines, and 6=twodash lines. Finally, add text to the graph using <span class="kw">&lt;code&gt;</span>text()<span class="kw">&lt;/code&gt;</span>, specify first the coordinates where you want the text, and then write what you want to show on the graph.</span>
<span id="cb9-203"><a href="#cb9-203" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-204"><a href="#cb9-204" aria-hidden="true" tabindex="-1"></a><span class="in">```{r,eval=FALSE}</span></span>
<span id="cb9-205"><a href="#cb9-205" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-206"><a href="#cb9-206" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>), <span class="at">pty=</span><span class="st">"s"</span>) <span class="co"># mai is the margin</span></span>
<span id="cb9-207"><a href="#cb9-207" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-208"><a href="#cb9-208" aria-hidden="true" tabindex="-1"></a><span class="co"># graph 1</span></span>
<span id="cb9-209"><a href="#cb9-209" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(d2[,age],d2[,height], <span class="at">type =</span> <span class="st">"p"</span>, <span class="at">pch =</span> <span class="dv">20</span>, <span class="at">col =</span> <span class="st">"blue"</span>,  <span class="at">ylim=</span>ylm, <span class="at">xlim=</span>xlm, <span class="at">cex=</span>ldcex, <span class="at">cex.lab=</span>cxlb, <span class="at">cex.axis=</span>cxaxis,  <span class="at">xlab=</span>xlabel, <span class="at">ylab=</span>ylabel)</span>
<span id="cb9-210"><a href="#cb9-210" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(m1[,age],m1[,height], <span class="at">type =</span> <span class="st">"p"</span>, <span class="at">pch =</span><span class="dv">11</span>, <span class="at">col =</span> <span class="st">"red"</span>, <span class="at">lwd=</span>ld)</span>
<span id="cb9-211"><a href="#cb9-211" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">"topright"</span>, <span class="fu">c</span>(<span class="st">"Projected height: Species is 'CW'"</span>, <span class="st">"Maximum Projected Height"</span>), <span class="at">col =</span> <span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"red"</span>), <span class="at">pch =</span> <span class="fu">c</span>(<span class="dv">20</span>, <span class="dv">11</span>), <span class="at">cex=</span><span class="dv">1</span>, <span class="at">pt.cex=</span>ld)</span>
<span id="cb9-212"><a href="#cb9-212" aria-hidden="true" tabindex="-1"></a><span class="co"># additional lines</span></span>
<span id="cb9-213"><a href="#cb9-213" aria-hidden="true" tabindex="-1"></a><span class="co"># add a vertical line at x=2</span></span>
<span id="cb9-214"><a href="#cb9-214" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v=</span><span class="dv">52</span>, <span class="at">lty=</span><span class="dv">2</span>)</span>
<span id="cb9-215"><a href="#cb9-215" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-216"><a href="#cb9-216" aria-hidden="true" tabindex="-1"></a><span class="co"># add a horizontal line at y=0</span></span>
<span id="cb9-217"><a href="#cb9-217" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h=</span><span class="dv">10</span>)</span>
<span id="cb9-218"><a href="#cb9-218" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-219"><a href="#cb9-219" aria-hidden="true" tabindex="-1"></a><span class="co"># abline(a,b) draws a line of slope b and intercept a</span></span>
<span id="cb9-220"><a href="#cb9-220" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-221"><a href="#cb9-221" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-222"><a href="#cb9-222" aria-hidden="true" tabindex="-1"></a><span class="co"># add text</span></span>
<span id="cb9-223"><a href="#cb9-223" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="dv">120</span>,<span class="dv">15</span>,<span class="st">"Maximum Height"</span>)</span>
<span id="cb9-224"><a href="#cb9-224" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb9-225"><a href="#cb9-225" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-226"><a href="#cb9-226" aria-hidden="true" tabindex="-1"></a><span class="fu">## 6.2.7 Add a mathematical expression</span></span>
<span id="cb9-227"><a href="#cb9-227" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-228"><a href="#cb9-228" aria-hidden="true" tabindex="-1"></a>To add mathematical expressions use the <span class="kw">&lt;code&gt;</span>expression()<span class="kw">&lt;/code&gt;</span> function. Define the mathematical expressions on label axes between quotes and tildes ( \~ ) (e.g. <span class="kw">&lt;code&gt;</span>expression( "Total volume("\~ m\^3 \~")")<span class="kw">&lt;/code&gt;</span>).</span>
<span id="cb9-229"><a href="#cb9-229" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-230"><a href="#cb9-230" aria-hidden="true" tabindex="-1"></a><span class="in">```{r,eval=FALSE}</span></span>
<span id="cb9-231"><a href="#cb9-231" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-232"><a href="#cb9-232" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>),<span class="at">mai=</span><span class="fu">c</span>(<span class="fl">0.9</span>,<span class="fl">1.1</span>,<span class="fl">0.8</span>,<span class="fl">0.3</span>), <span class="at">cex=</span><span class="fl">1.0</span> ) <span class="co"># mai is the margin</span></span>
<span id="cb9-233"><a href="#cb9-233" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-234"><a href="#cb9-234" aria-hidden="true" tabindex="-1"></a>ylabel<span class="ot">=</span><span class="st">"Projected Volume(m3)"</span></span>
<span id="cb9-235"><a href="#cb9-235" aria-hidden="true" tabindex="-1"></a>xlabel<span class="ot">=</span><span class="st">"Projected Age (years)"</span></span>
<span id="cb9-236"><a href="#cb9-236" aria-hidden="true" tabindex="-1"></a>ylm<span class="ot">=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">500</span>)</span>
<span id="cb9-237"><a href="#cb9-237" aria-hidden="true" tabindex="-1"></a>xlm<span class="ot">=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">470</span>)</span>
<span id="cb9-238"><a href="#cb9-238" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-239"><a href="#cb9-239" aria-hidden="true" tabindex="-1"></a>cxlb<span class="ot">=</span><span class="dv">2</span> <span class="co"># axis level - fontsize</span></span>
<span id="cb9-240"><a href="#cb9-240" aria-hidden="true" tabindex="-1"></a>cxaxis<span class="ot">=</span><span class="fl">2.5</span> <span class="co"># axis fontsize</span></span>
<span id="cb9-241"><a href="#cb9-241" aria-hidden="true" tabindex="-1"></a>maincx<span class="ot">=</span><span class="fl">2.5</span> <span class="co"># title font</span></span>
<span id="cb9-242"><a href="#cb9-242" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-243"><a href="#cb9-243" aria-hidden="true" tabindex="-1"></a>age<span class="ot">=</span><span class="dv">3</span> <span class="co"># age column number</span></span>
<span id="cb9-244"><a href="#cb9-244" aria-hidden="true" tabindex="-1"></a>height<span class="ot">=</span><span class="dv">4</span> <span class="co"># height column number</span></span>
<span id="cb9-245"><a href="#cb9-245" aria-hidden="true" tabindex="-1"></a>ldcex<span class="ot">=</span><span class="dv">2</span> <span class="co"># size ofpoints</span></span>
<span id="cb9-246"><a href="#cb9-246" aria-hidden="true" tabindex="-1"></a>ld<span class="ot">=</span><span class="dv">2</span></span>
<span id="cb9-247"><a href="#cb9-247" aria-hidden="true" tabindex="-1"></a>cx<span class="ot">=</span><span class="dv">2</span></span>
<span id="cb9-248"><a href="#cb9-248" aria-hidden="true" tabindex="-1"></a>ft<span class="ot">=</span><span class="dv">4</span></span>
<span id="cb9-249"><a href="#cb9-249" aria-hidden="true" tabindex="-1"></a><span class="co"># graph 1</span></span>
<span id="cb9-250"><a href="#cb9-250" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(d1[,age],d1[,height], <span class="at">type =</span> <span class="st">"p"</span>, <span class="at">pch =</span> <span class="dv">1</span>, <span class="at">col =</span> <span class="st">"black"</span>, <span class="at">main=</span><span class="st">" "</span>,    <span class="at">ylim=</span>ylm, <span class="at">xlim=</span>xlm, <span class="at">cex=</span>ldcex, <span class="at">cex.lab=</span>cxlb, <span class="at">cex.axis=</span>cxaxis, <span class="at">xlab=</span>xlabel, <span class="at">ylab=</span><span class="st">""</span>)</span>
<span id="cb9-251"><a href="#cb9-251" aria-hidden="true" tabindex="-1"></a><span class="fu">mtext</span>(<span class="fu">expression</span>(<span class="st">"Total volume ("</span><span class="sc">~</span>m<span class="sc">^</span><span class="dv">3</span><span class="sc">~</span><span class="st">")"</span>), <span class="at">side=</span><span class="dv">2</span>, <span class="at">line=</span><span class="dv">3</span>, <span class="at">las=</span><span class="dv">0</span>, <span class="at">cex=</span>cx, <span class="at">font =</span>ft)</span>
<span id="cb9-252"><a href="#cb9-252" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-253"><a href="#cb9-253" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb9-254"><a href="#cb9-254" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-255"><a href="#cb9-255" aria-hidden="true" tabindex="-1"></a>::: callout-tip</span>
<span id="cb9-256"><a href="#cb9-256" aria-hidden="true" tabindex="-1"></a><span class="fu"># Data Files:</span></span>
<span id="cb9-257"><a href="#cb9-257" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-258"><a href="#cb9-258" aria-hidden="true" tabindex="-1"></a>VRI data csv: <span class="co">[</span><span class="ot">VRI Data</span><span class="co">](/external_files/VRI_data.csv)</span></span>
<span id="cb9-259"><a href="#cb9-259" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-260"><a href="#cb9-260" aria-hidden="true" tabindex="-1"></a>VRI data RData: <span class="co">[</span><span class="ot">VRI RData</span><span class="co">](/external_files/VRI_data-2.RData)</span></span>
<span id="cb9-261"><a href="#cb9-261" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb9-262"><a href="#cb9-262" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-263"><a href="#cb9-263" aria-hidden="true" tabindex="-1"></a>If the character/categorical variable is not producing the summary table as shown on the video then try the following:</span>
<span id="cb9-264"><a href="#cb9-264" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-265"><a href="#cb9-265" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo= TRUE,eval=FALSE}</span></span>
<span id="cb9-266"><a href="#cb9-266" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">as.factor</span>(SPECIES_CD_1))</span>
<span id="cb9-267"><a href="#cb9-267" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">as.factor</span>(SPECIES_CD_1))</span>
<span id="cb9-268"><a href="#cb9-268" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>